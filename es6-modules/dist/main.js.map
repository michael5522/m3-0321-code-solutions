{"version":3,"sources":["webpack://es-modules/./src/components/todo-app.js","webpack://es-modules/./src/components/todo-form.js","webpack://es-modules/./src/components/todo-list.js","webpack://es-modules/./src/lib/create-element.js","webpack://es-modules/./src/lib/index.js","webpack://es-modules/./src/lib/noop.js","webpack://es-modules/./src/lib/to-array.js","webpack://es-modules/webpack/bootstrap","webpack://es-modules/webpack/runtime/define property getters","webpack://es-modules/webpack/runtime/hasOwnProperty shorthand","webpack://es-modules/webpack/runtime/make namespace object","webpack://es-modules/./src/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,UAAU,sBAAsB;AAChC;AACA;AAC6C;AACV;AACA;;AAEnC;AACA,mDAAmD,sCAAI;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,+CAAQ;AAChC,wBAAwB,+CAAQ;AAChC;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,SAAS,iCAAiC;AACvE,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,MAAM,mDAAa,QAAQ,gBAAgB;AAC3C;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,mBAAmB,gBAAgB;AACnC;AACA;;AAEA;AACA,iEAAe,OAAO,EAAC;;;;;;;;;;;;;;;;AC1DvB,UAAU,gBAAgB;AACa;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,mDAAa,UAAU,0BAA0B;AACvD,QAAQ,mDAAa,SAAS,uBAAuB;AACrD,UAAU,mDAAa;AACvB;AACA;AACA;AACA;AACA,WAAW;AACX,UAAU,mDAAa,SAAS,8BAA8B;AAC9D,YAAY,mDAAa,YAAY,2CAA2C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;AChDxB,UAAU,gBAAgB;AACa;;AAEvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,mDAAa;AAClC;AACA,iBAAiB,QAAQ;AACzB;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,+BAA+B,cAAc,oBAAoB;AAC1F,yBAAyB,0BAA0B;AACnD;AACA,MAAM,mDAAa,QAAQ,oDAAoD;AAC/E,QAAQ,mDAAa,SAAS,6BAA6B;AAC3D;AACA,UAAU,mDAAa,WAAW,uEAAuE,QAAQ,GAAG;AACpH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,mDAAa,QAAQ,qCAAqC;AAChE;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAe,QAAQ,EAAC;;;;;;;;;;;;;;;;ACrDxB;AACiC;;AAEjC;AACA;AACA;AACA;AACA;AACA,EAAE,kDAAO;AACT;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,iEAAe,aAAa,EAAC;;;;;;;;;;;;;;;;;;;;AClBH;AACO;AACY;;AAM3C;;;;;;;;;;;;;;;ACRF;;AAEA;;AAEA,iEAAe,IAAI,EAAC;;;;;;;;;;;;;;;ACJpB;AACA;AACA;;AAEA;AACA,iEAAe,OAAO,EAAC;;;;;;;UCLvB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;;;;;;;;ACNA;AAC6C;;AAE7C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,yDAAO;AACvB;AACA,CAAC;;AAED","file":"main.js","sourcesContent":["// const { createElement, noop } = require('../lib');\n// const TodoList = require('./todo-list');\n// const TodoForm = require('./todo-form');\nimport { createElement, noop } from '../lib';\nimport TodoList from './todo-list';\nimport TodoForm from './todo-form';\n\nclass TodoApp {\n  constructor(container, nextId, todos, onUpdate = noop) {\n    this.container = container;\n    this.todos = todos;\n    this.nextId = nextId;\n    this.todoForm = null;\n    this.todoList = null;\n    this.isStarted = false;\n    this.onUpdate = onUpdate;\n    this.addTodo = this.addTodo.bind(this);\n    this.toggleCompleted = this.toggleCompleted.bind(this);\n  }\n\n  start() {\n    if (this.isStarted) return;\n    this.todoForm = new TodoForm(this.addTodo);\n    this.todoList = new TodoList(this.toggleCompleted);\n    this.update();\n    this.isStarted = true;\n  }\n\n  addTodo(task) {\n    const id = this.nextId;\n    const isCompleted = false;\n    const newTodo = { id, task, isCompleted };\n    this.todos = this.todos.concat(newTodo);\n    this.nextId++;\n    this.update();\n  }\n\n  toggleCompleted(todoId) {\n    this.todos = this.todos.map(todo => {\n      if (todo.id !== todoId) return todo;\n      return Object.assign({}, todo, { isCompleted: !todo.isCompleted });\n    });\n    this.update();\n  }\n\n  update() {\n    this.container.innerHTML = '';\n    this.container.append(\n      createElement('h1', { class: 'mb-4' }, 'JS Todo'),\n      this.todoForm.render(),\n      this.todoList.render(this.todos)\n    );\n    const { nextId, todos } = this;\n    this.onUpdate({ nextId, todos });\n  }\n}\n\n// module.exports = TodoApp;\nexport default TodoApp;\n","// const { createElement } = require('../lib');\nimport { createElement } from '../lib';\n\nclass TodoForm {\n  constructor(onSubmit) {\n    this.newTask = '';\n    this.element = null;\n    this.onSubmit = onSubmit;\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.newTask = event.target.value;\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.onSubmit(this.newTask);\n    this.newTask = '';\n    event.target.reset();\n    event.target.querySelector('input').focus();\n  }\n\n  render() {\n    if (this.element) return this.element;\n    this.element = (\n      createElement('form', { class: 'shadow-sm mb-4' }, [\n        createElement('div', { class: 'input-group' }, [\n          createElement('input', {\n            type: 'text',\n            required: true,\n            class: 'form-control',\n            placeholder: 'What to do?'\n          }),\n          createElement('div', { class: 'input-group-append' }, [\n            createElement('button', { type: 'submit', class: 'btn btn-primary' }, 'Add Todo')\n          ])\n        ])\n      ])\n    );\n    this.element.addEventListener('change', this.handleChange);\n    this.element.addEventListener('submit', this.handleSubmit);\n    return this.element;\n  }\n}\n\n// module.exports = TodoForm;\nexport default TodoForm;\n","// const { createElement } = require('../lib');\nimport { createElement } from '../lib';\n\nclass TodoList {\n  constructor(onToggle) {\n    this.onToggle = onToggle;\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const todoItem = event.target.closest('[data-todo-id]');\n    if (!todoItem) return;\n    const todoId = parseInt(todoItem.getAttribute('data-todo-id'), 10);\n    this.onToggle(todoId);\n  }\n\n  renderCheckbox(todo) {\n    const checkbox = createElement('input', {\n      type: 'checkbox',\n      id: `task${todo.id}`,\n      class: 'form-check-input'\n    });\n    checkbox.checked = todo.isCompleted;\n    return checkbox;\n  }\n\n  renderTodoItem(todo) {\n    const labelStyle = todo.isCompleted\n      ? 'cursor: pointer; text-decoration: line-through; opacity: 0.5; font-style: italic;'\n      : 'cursor: pointer; text-decoration: inherit;';\n    const todoItem = (\n      createElement('li', { class: 'list-group-item', 'data-todo-id': todo.id }, [\n        createElement('div', { class: 'form-check d-flex' }, [\n          this.renderCheckbox(todo),\n          createElement('label', { style: labelStyle, class: 'form-check-label flex-grow-1', for: `task${todo.id}` }, todo.task)\n        ])\n      ])\n    );\n    return todoItem;\n  }\n\n  render(todos) {\n    const todoList = (\n      createElement('ul', { class: 'list-group shadow-sm mb-4' }, todos.map(todo => {\n        return this.renderTodoItem(todo);\n      }))\n    );\n    todoList.addEventListener('change', this.handleChange);\n    return todoList;\n  }\n}\n\n// module.exports = TodoList;\nexport default TodoList;\n","// const toArray = require('./to-array');\nimport toArray from './to-array';\n\nfunction createElement(tagName, attributes, children = []) {\n  const parent = document.createElement(tagName);\n  for (const name in attributes) {\n    parent.setAttribute(name, attributes[name]);\n  }\n  toArray(children).forEach(child => {\n    if (!(child instanceof HTMLElement)) {\n      child = document.createTextNode(child);\n    }\n    parent.appendChild(child);\n  });\n  return parent;\n}\n\n// module.exports = createElement;\nexport default createElement;\n","import noop from './noop';\nimport toArray from './to-array';\nimport createElement from './create-element';\n\nexport {\n  noop,\n  toArray,\n  createElement\n};\n","function noop() {}\n\n// module.exports = noop;\n\nexport default noop;\n","function toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n\n// module.exports = toArray;\nexport default toArray;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// const TodoApp = require('./components/todo-app');\nimport  TodoApp from './components/todo-app';\n\nconst container = document.querySelector('#app');\n\nconst nextId = 4;\n\nconst todos = [\n  {\n    id: 1,\n    task: 'Learn to code.',\n    isCompleted: false\n  },\n  {\n    id: 2,\n    task: 'Build projects.',\n    isCompleted: false\n  },\n  {\n    id: 3,\n    task: 'Get a job.',\n    isCompleted: false\n  }\n];\n\nconst app = new TodoApp(container, nextId, todos, newState => {\n  console.log(newState);\n});\n\napp.start();\n"],"sourceRoot":""}